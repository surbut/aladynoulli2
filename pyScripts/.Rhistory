legend.position = "none",
plot.margin = margin(5, 5, 5, 5)) +
coord_cartesian(xlim = c(-0.3, 0.3))
# Combine with patchwork for desired layout
a=(p1 / p2) | p3 +
plot_layout(widths = c(5, 1), heights = c(2, 1), guides = "collect")
ggsave(plot = a,filename = paste0("longpattraj_withenrollment_",chosen_patient,".pdf"),dpi = 300,width = 25,height = 10)
}
warniings()
warnings()
library(dplyr)
runApp('shinyapp.R')
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
df=fread("~/Dropbox/gp_scripts.txt")
head(df)
script=readRDS("~/Downloads/prescriptions.rds")
head(script)
dim(script)
length(unique(script$eid))
table(script$category)
write.table(script,"prescription.csv",sep = ",",quote = FALSE,row.names = FALSE)
pi_no_fit=readRDS("~/Library/CloudStorage/Dropbox/pi_enroll_sex_0_10000_beforemodelfit.rds")
cor(pi_no_fit[,,10],pi_no_fit[,,40])
na.omit(diag(cor(pi_no_fit[,,10],pi_no_fit[,,40])))
g=diag(cor(pi_no_fit[,,10],pi_no_fit[,,40]))
head(g)
hist(na.omit(g))
summary(pi_no_fit[,,10]))
summary(pi_no_fit[,,10])
hist(pi_no_fit[,,10])
df=read.csv("all_model_comp_withtdcox2.csv")
head(df)
tdc_cox_cstat=read.table("~/Downloads/tdccox.txt")
head(tdc_cox_cstat)
tdc_cox_cstat=read.table("~/Downloads/tdccox.txt",sep=",")
head(tdc_cox_cstat)
tdc_cox_cstat=read.table("~/Downloads/tdccox.txt",sep=",",header = TRUE)
head(tdc_cox_cstat)
tdc_cox_cstat=read.table("~/Downloads/medical_risk_csv.txt",sep=",",header = TRUE)
head(tdc_cox_cstat)
m=merge(df,tdc_cox_cstat,by.x="Disease",by.y="Condition")
head(m)
names(m)[14]="C_index"
head(m)
saveRDS('allmodels.rds')
saveRDS(m,'allmodels.rds')
head(m)
m
# Function to parse the data
parse_model_data <- function(data_path) {
# Read the data
df <- read.csv(data_path)
# Extract confidence intervals from the formatted strings
extract_ci <- function(ci_str) {
# Matches format like "0.765 (0.748-0.782)"
pattern <- "(\\d+\\.\\d+)\\s*\\((\\d+\\.\\d+)-(\\d+\\.\\d+)\\)"
matches <- regexec(pattern, ci_str)
result <- regmatches(ci_str, matches)
if(length(result) > 0 && length(result[[1]]) >= 4) {
return(c(as.numeric(result[[1]][2]),
as.numeric(result[[1]][3]),
as.numeric(result[[1]][4])))
} else {
return(c(NA, NA, NA))
}
}
# Create a clean data frame
model_data <- data.frame(
Disease = df$Disease,
Events = df$Events,
Rate = df$Rate,
stringsAsFactors = FALSE
)
# Extract values for Aladynoulli Dynamic
dynamic_ci <- lapply(df$aladynoulli_auc_dynamic, extract_ci)
model_data$dynamic_auc <- sapply(dynamic_ci, function(x) x[1])
model_data$dynamic_lower <- sapply(dynamic_ci, function(x) x[2])
model_data$dynamic_upper <- sapply(dynamic_ci, function(x) x[3])
# Extract values for Aladynoulli Static
static_ci <- lapply(df$aladynoulli_auc_static, extract_ci)
model_data$static_auc <- sapply(static_ci, function(x) x[1])
model_data$static_lower <- sapply(static_ci, function(x) x[2])
model_data$static_upper <- sapply(static_ci, function(x) x[3])
# Add Cox values
model_data$cox_without_noulli <- df$cox_auc_without_noulli
model_data$cox_with_noulli <- df$cox_auc_with_noulli
# Add TD Cox AUC (as numeric)
model_data$td_cox_auc <- as.numeric(df$td_cox)
# Calculate CI for Cox values (using the formula SE = sqrt((AUC * (1-AUC)) / (n * prevalence)))
calc_cox_ci <- function(auc, events, total = 400000) {
prevalence <- events / total
prevalence <- max(0.01, prevalence)
se <- sqrt((auc * (1 - auc)) / (total * prevalence))
lower <- max(0, auc - 1.96 * se)
upper <- min(1, auc + 1.96 * se)
return(c(lower, upper))
}
# Add CI for Cox without Noulli
cox_without_ci <- mapply(calc_cox_ci,
model_data$cox_without_noulli,
model_data$Events,
SIMPLIFY = FALSE)
model_data$cox_without_lower <- sapply(cox_without_ci, function(x) x[1])
model_data$cox_without_upper <- sapply(cox_without_ci, function(x) x[2])
# Add CI for Cox with Noulli
cox_with_ci <- mapply(calc_cox_ci,
model_data$cox_with_noulli,
model_data$Events,
SIMPLIFY = FALSE)
model_data$cox_with_lower <- sapply(cox_with_ci, function(x) x[1])
model_data$cox_with_upper <- sapply(cox_with_ci, function(x) x[2])
# Add CI for TD Cox
td_cox_ci <- mapply(calc_cox_ci,
model_data$td_cox_auc,
model_data$Events,
SIMPLIFY = FALSE)
model_data$td_cox_lower <- sapply(td_cox_ci, function(x) x[1])
model_data$td_cox_upper <- sapply(td_cox_ci, function(x) x[2])
# Calculate CI for Aladynoulli Dynamic using actual sample size (e.g., 400,000)
aladyn_dynamic_ci <- mapply(calc_cox_ci,
model_data$dynamic_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$dynamic_lower <- sapply(aladyn_dynamic_ci, function(x) x[1])
model_data$dynamic_upper <- sapply(aladyn_dynamic_ci, function(x) x[2])
# Calculate CI for Aladynoulli Static using actual sample size (e.g., 400,000)
aladyn_static_ci <- mapply(calc_cox_ci,
model_data$static_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$static_lower <- sapply(aladyn_static_ci, function(x) x[1])
model_data$static_upper <- sapply(aladyn_static_ci, function(x) x[2])
# Use the value from Dynamic1year as the AUC, and extract lower/upper from X.2
model_data$one_year_auc <- as.numeric(df$Dynamic1year)
# Clean up dashes in X.2
one_year_ci_str <- gsub("[\u2013\u2014]", "-", as.character(df$X.2))
one_year_ci <- lapply(one_year_ci_str, extract_ci)
model_data$one_year_lower <- sapply(one_year_ci, function(x) x[1])
model_data$one_year_upper <- sapply(one_year_ci, function(x) x[2])
# After extracting one_year_auc, one_year_lower, one_year_upper, recalculate CI for 1-year AUC using total=400000
one_year_ci_calc <- mapply(calc_cox_ci,
model_data$one_year_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$one_year_lower <- sapply(one_year_ci_calc, function(x) x[1])
model_data$one_year_upper <- sapply(one_year_ci_calc, function(x) x[2])
model_data$tdc_cox_cstat=model_data$C_index
model_data$tdc_cox_lower=model_data$Confidence_Interval_Lower
model_data$tdc_cox_upper=model_data$Confidence_Interval_Upper
return(model_data)
}
# Function to parse the data
parse_model_data <- function(data_path) {
# Read the data
df <- readRDS(data_path)
# Extract confidence intervals from the formatted strings
extract_ci <- function(ci_str) {
# Matches format like "0.765 (0.748-0.782)"
pattern <- "(\\d+\\.\\d+)\\s*\\((\\d+\\.\\d+)-(\\d+\\.\\d+)\\)"
matches <- regexec(pattern, ci_str)
result <- regmatches(ci_str, matches)
if(length(result) > 0 && length(result[[1]]) >= 4) {
return(c(as.numeric(result[[1]][2]),
as.numeric(result[[1]][3]),
as.numeric(result[[1]][4])))
} else {
return(c(NA, NA, NA))
}
}
# Create a clean data frame
model_data <- data.frame(
Disease = df$Disease,
Events = df$Events,
Rate = df$Rate,
stringsAsFactors = FALSE
)
# Extract values for Aladynoulli Dynamic
dynamic_ci <- lapply(df$aladynoulli_auc_dynamic, extract_ci)
model_data$dynamic_auc <- sapply(dynamic_ci, function(x) x[1])
model_data$dynamic_lower <- sapply(dynamic_ci, function(x) x[2])
model_data$dynamic_upper <- sapply(dynamic_ci, function(x) x[3])
# Extract values for Aladynoulli Static
static_ci <- lapply(df$aladynoulli_auc_static, extract_ci)
model_data$static_auc <- sapply(static_ci, function(x) x[1])
model_data$static_lower <- sapply(static_ci, function(x) x[2])
model_data$static_upper <- sapply(static_ci, function(x) x[3])
# Add Cox values
model_data$cox_without_noulli <- df$cox_auc_without_noulli
model_data$cox_with_noulli <- df$cox_auc_with_noulli
# Add TD Cox AUC (as numeric)
model_data$td_cox_auc <- as.numeric(df$td_cox)
# Calculate CI for Cox values (using the formula SE = sqrt((AUC * (1-AUC)) / (n * prevalence)))
calc_cox_ci <- function(auc, events, total = 400000) {
prevalence <- events / total
prevalence <- max(0.01, prevalence)
se <- sqrt((auc * (1 - auc)) / (total * prevalence))
lower <- max(0, auc - 1.96 * se)
upper <- min(1, auc + 1.96 * se)
return(c(lower, upper))
}
# Add CI for Cox without Noulli
cox_without_ci <- mapply(calc_cox_ci,
model_data$cox_without_noulli,
model_data$Events,
SIMPLIFY = FALSE)
model_data$cox_without_lower <- sapply(cox_without_ci, function(x) x[1])
model_data$cox_without_upper <- sapply(cox_without_ci, function(x) x[2])
# Add CI for Cox with Noulli
cox_with_ci <- mapply(calc_cox_ci,
model_data$cox_with_noulli,
model_data$Events,
SIMPLIFY = FALSE)
model_data$cox_with_lower <- sapply(cox_with_ci, function(x) x[1])
model_data$cox_with_upper <- sapply(cox_with_ci, function(x) x[2])
# Add CI for TD Cox
td_cox_ci <- mapply(calc_cox_ci,
model_data$td_cox_auc,
model_data$Events,
SIMPLIFY = FALSE)
model_data$td_cox_lower <- sapply(td_cox_ci, function(x) x[1])
model_data$td_cox_upper <- sapply(td_cox_ci, function(x) x[2])
# Calculate CI for Aladynoulli Dynamic using actual sample size (e.g., 400,000)
aladyn_dynamic_ci <- mapply(calc_cox_ci,
model_data$dynamic_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$dynamic_lower <- sapply(aladyn_dynamic_ci, function(x) x[1])
model_data$dynamic_upper <- sapply(aladyn_dynamic_ci, function(x) x[2])
# Calculate CI for Aladynoulli Static using actual sample size (e.g., 400,000)
aladyn_static_ci <- mapply(calc_cox_ci,
model_data$static_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$static_lower <- sapply(aladyn_static_ci, function(x) x[1])
model_data$static_upper <- sapply(aladyn_static_ci, function(x) x[2])
# Use the value from Dynamic1year as the AUC, and extract lower/upper from X.2
model_data$one_year_auc <- as.numeric(df$Dynamic1year)
# Clean up dashes in X.2
one_year_ci_str <- gsub("[\u2013\u2014]", "-", as.character(df$X.2))
one_year_ci <- lapply(one_year_ci_str, extract_ci)
model_data$one_year_lower <- sapply(one_year_ci, function(x) x[1])
model_data$one_year_upper <- sapply(one_year_ci, function(x) x[2])
# After extracting one_year_auc, one_year_lower, one_year_upper, recalculate CI for 1-year AUC using total=400000
one_year_ci_calc <- mapply(calc_cox_ci,
model_data$one_year_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$one_year_lower <- sapply(one_year_ci_calc, function(x) x[1])
model_data$one_year_upper <- sapply(one_year_ci_calc, function(x) x[2])
model_data$tdc_cox_cstat=model_data$C_index
model_data$tdc_cox_lower=model_data$Confidence_Interval_Lower
model_data$tdc_cox_upper=model_data$Confidence_Interval_Upper
return(model_data)
}
pm=parse_model_data(allmodel.rds)
pm=parse_model_data("allmodel.rds")
saveRDS(m,'allmodels.rds')
pm=parse_model_data("allmodel.rds")
saveRDS(m,file = "allmodels.rds")
m
pm=parse_model_data("allmodel.rds")
pm=parse_model_data("./allmodel.rds")
readRDS("allmodels.rds")
# Function to parse the data
parse_model_data <- function(data_path) {
# Read the data
df <- readRDS(data_path)
# Extract confidence intervals from the formatted strings
extract_ci <- function(ci_str) {
# Matches format like "0.765 (0.748-0.782)"
pattern <- "(\\d+\\.\\d+)\\s*\\((\\d+\\.\\d+)-(\\d+\\.\\d+)\\)"
matches <- regexec(pattern, ci_str)
result <- regmatches(ci_str, matches)
if(length(result) > 0 && length(result[[1]]) >= 4) {
return(c(as.numeric(result[[1]][2]),
as.numeric(result[[1]][3]),
as.numeric(result[[1]][4])))
} else {
return(c(NA, NA, NA))
}
}
# Create a clean data frame
model_data <- data.frame(
Disease = df$Disease,
Events = df$Events,
Rate = df$Rate,
stringsAsFactors = FALSE
)
# Extract values for Aladynoulli Dynamic
dynamic_ci <- lapply(df$aladynoulli_auc_dynamic, extract_ci)
model_data$dynamic_auc <- sapply(dynamic_ci, function(x) x[1])
model_data$dynamic_lower <- sapply(dynamic_ci, function(x) x[2])
model_data$dynamic_upper <- sapply(dynamic_ci, function(x) x[3])
# Extract values for Aladynoulli Static
static_ci <- lapply(df$aladynoulli_auc_static, extract_ci)
model_data$static_auc <- sapply(static_ci, function(x) x[1])
model_data$static_lower <- sapply(static_ci, function(x) x[2])
model_data$static_upper <- sapply(static_ci, function(x) x[3])
# Add Cox values
model_data$cox_without_noulli <- df$cox_auc_without_noulli
model_data$cox_with_noulli <- df$cox_auc_with_noulli
# Add TD Cox AUC (as numeric)
model_data$td_cox_auc <- as.numeric(df$td_cox)
# Calculate CI for Cox values (using the formula SE = sqrt((AUC * (1-AUC)) / (n * prevalence)))
calc_cox_ci <- function(auc, events, total = 400000) {
prevalence <- events / total
prevalence <- max(0.01, prevalence)
se <- sqrt((auc * (1 - auc)) / (total * prevalence))
lower <- max(0, auc - 1.96 * se)
upper <- min(1, auc + 1.96 * se)
return(c(lower, upper))
}
# Add CI for Cox without Noulli
cox_without_ci <- mapply(calc_cox_ci,
model_data$cox_without_noulli,
model_data$Events,
SIMPLIFY = FALSE)
model_data$cox_without_lower <- sapply(cox_without_ci, function(x) x[1])
model_data$cox_without_upper <- sapply(cox_without_ci, function(x) x[2])
# Add CI for Cox with Noulli
cox_with_ci <- mapply(calc_cox_ci,
model_data$cox_with_noulli,
model_data$Events,
SIMPLIFY = FALSE)
model_data$cox_with_lower <- sapply(cox_with_ci, function(x) x[1])
model_data$cox_with_upper <- sapply(cox_with_ci, function(x) x[2])
# Add CI for TD Cox
td_cox_ci <- mapply(calc_cox_ci,
model_data$td_cox_auc,
model_data$Events,
SIMPLIFY = FALSE)
model_data$td_cox_lower <- sapply(td_cox_ci, function(x) x[1])
model_data$td_cox_upper <- sapply(td_cox_ci, function(x) x[2])
# Calculate CI for Aladynoulli Dynamic using actual sample size (e.g., 400,000)
aladyn_dynamic_ci <- mapply(calc_cox_ci,
model_data$dynamic_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$dynamic_lower <- sapply(aladyn_dynamic_ci, function(x) x[1])
model_data$dynamic_upper <- sapply(aladyn_dynamic_ci, function(x) x[2])
# Calculate CI for Aladynoulli Static using actual sample size (e.g., 400,000)
aladyn_static_ci <- mapply(calc_cox_ci,
model_data$static_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$static_lower <- sapply(aladyn_static_ci, function(x) x[1])
model_data$static_upper <- sapply(aladyn_static_ci, function(x) x[2])
# Use the value from Dynamic1year as the AUC, and extract lower/upper from X.2
model_data$one_year_auc <- as.numeric(df$Dynamic1year)
# Clean up dashes in X.2
one_year_ci_str <- gsub("[\u2013\u2014]", "-", as.character(df$X.2))
one_year_ci <- lapply(one_year_ci_str, extract_ci)
model_data$one_year_lower <- sapply(one_year_ci, function(x) x[1])
model_data$one_year_upper <- sapply(one_year_ci, function(x) x[2])
# After extracting one_year_auc, one_year_lower, one_year_upper, recalculate CI for 1-year AUC using total=400000
one_year_ci_calc <- mapply(calc_cox_ci,
model_data$one_year_auc,
model_data$Events,
MoreArgs = list(total = 400000),
SIMPLIFY = FALSE)
model_data$one_year_lower <- sapply(one_year_ci_calc, function(x) x[1])
model_data$one_year_upper <- sapply(one_year_ci_calc, function(x) x[2])
model_data$tdc_cox_cstat=df$C_index
model_data$tdc_cox_lower=df$Confidence_Interval_Lower
model_data$tdc_cox_upper=df$Confidence_Interval_Upper
return(model_data)
}
pm=parse_model_data("./allmodel.rds")
readRDS(allmodel.rds)
readRDS("allmodel.rds")
readRDS(file = "allmodel.rds")
readRDS('allmodels.rds')
pm=parse_model_data("./allmodels.rds")
pm
# Reshape data for plotting
prepare_forest_plot_data <- function(model_data) {
# Transform to long format, now including TD Cox
long_data <- model_data %>%
pivot_longer(
cols = c("one_year_auc", "td_cox_auc", "dynamic_auc", "static_auc", "cox_with_noulli", "cox_without_noulli","tdc_cox_cstat"),
names_to = "model",
values_to = "auc"
) %>%
mutate(
lower = case_when(
model == "one_year_auc" ~ one_year_lower,
model == "td_cox_auc" ~ td_cox_lower,
model == "dynamic_auc" ~ dynamic_lower,
model == "static_auc" ~ static_lower,
model == "cox_with_noulli" ~ cox_with_lower,
model == "cox_without_noulli" ~ cox_without_lower,
model == "tdc_cox_cstat" ~ tdc_cox_lower
),
upper = case_when(
model == "one_year_auc" ~ one_year_upper,
model == "td_cox_auc" ~ td_cox_upper,
model == "dynamic_auc" ~ dynamic_upper,
model == "static_auc" ~ static_upper,
model == "cox_with_noulli" ~ cox_with_upper,
model == "cox_without_noulli" ~ cox_without_upper,
model == "tdc_cox_cstat" ~ tdc_cox_upper
),
model = case_when(
model == "one_year_auc" ~ "Aladynoulli 1-year",
model == "td_cox_auc" ~ "Time-dependent Cox with Noulli",
model == "dynamic_auc" ~ "Aladynoulli Dynamic",
model == "static_auc" ~ "Aladynoulli Static",
model == "cox_with_noulli" ~ "Cox with Noulli",
model == "cox_without_noulli" ~ "Cox without Noulli"
model == "tdc_cox_cstat" ~ "Time-dependent Cox with Noulli c-stat"
# Reshape data for plotting
prepare_forest_plot_data <- function(model_data) {
# Transform to long format, now including TD Cox
long_data <- model_data %>%
pivot_longer(
cols = c("one_year_auc", "td_cox_auc", "dynamic_auc", "static_auc", "cox_with_noulli", "cox_without_noulli","tdc_cox_cstat"),
names_to = "model",
values_to = "auc"
) %>%
mutate(
lower = case_when(
model == "one_year_auc" ~ one_year_lower,
model == "td_cox_auc" ~ td_cox_lower,
model == "dynamic_auc" ~ dynamic_lower,
model == "static_auc" ~ static_lower,
model == "cox_with_noulli" ~ cox_with_lower,
model == "cox_without_noulli" ~ cox_without_lower,
model == "tdc_cox_cstat" ~ tdc_cox_lower
),
upper = case_when(
model == "one_year_auc" ~ one_year_upper,
model == "td_cox_auc" ~ td_cox_upper,
model == "dynamic_auc" ~ dynamic_upper,
model == "static_auc" ~ static_upper,
model == "cox_with_noulli" ~ cox_with_upper,
model == "cox_without_noulli" ~ cox_without_upper,
model == "tdc_cox_cstat" ~ tdc_cox_upper
),
model = case_when(
model == "one_year_auc" ~ "Aladynoulli 1-year",
model == "td_cox_auc" ~ "Time-dependent Cox with Noulli",
model == "dynamic_auc" ~ "Aladynoulli Dynamic",
model == "static_auc" ~ "Aladynoulli Static",
model == "cox_with_noulli" ~ "Cox with Noulli",
model == "cox_without_noulli" ~ "Cox without Noulli",
model == "tdc_cox_cstat" ~ "Time-dependent Cox with Noulli c-stat"
)
) %>%
select(Disease, Events, Rate, model, auc, lower, upper)
# Set the model order with 'Aladynoulli 1-year' as the far left
long_data$model <- factor(long_data$model, levels = c(
"Aladynoulli 1-year",
"Time-dependent Cox with Noulli",
"Aladynoulli Dynamic",
"Aladynoulli Static",
"Cox with Noulli",
"Cox without Noulli",
"Time-dependent Cox with Noulli c-stat"
))
# Make Disease a factor ordered by dynamic AUC
disease_order <- model_data %>%
arrange(desc(dynamic_auc)) %>%
pull(Disease)
long_data$Disease <- factor(long_data$Disease, levels = disease_order)
return(long_data)
}
pm
prepare_forest_plot_data(pm)
library(dplyr)
prepare_forest_plot_data(pm)
library(reshape2)
library(tidyr)
library(reshape2)
prepare_forest_plot_data(pm)
str(pm)
pm$tdc_cox_cstat=as.numeric(tdc_cox_cstat)
pm$tdc_cox_cstat=as.numeric(tdc_cox_cstat)
source("~/aladynoulli2/pyScripts/tdccode_cursor.R")
pi=readRDS("/Users/sarahurbut/Library/CloudStorage/Dropbox/pi_full_sex_20000_30000.rds"")
pi=readRDS("/Users/sarahurbut/Library/CloudStorage/Dropbox/pi_full_sex_20000_30000.rds")
pi[1,11,11]
a=readRDS("allmodels.rds")
a
a$Dynamic1year,a$tdc_cox_final
a$tdc_cox_final
